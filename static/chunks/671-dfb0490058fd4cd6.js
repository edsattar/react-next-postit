(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[671],{9247:function(t,e,r){"use strict";var n=r(8997);Object.defineProperty(e,"__esModule",{value:!0}),e.BroadcastChannel=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"nextauth.message";return{receive:function(e){var r=function(r){if(r.key===t){var n,o=JSON.parse(null!==(n=r.newValue)&&void 0!==n?n:"{}");(null==o?void 0:o.event)==="session"&&null!=o&&o.data&&e(o)}};return window.addEventListener("storage",r),function(){return window.removeEventListener("storage",r)}},post:function(e){if("undefined"!=typeof window)try{localStorage.setItem(t,JSON.stringify(u(u({},e),{},{timestamp:f()})))}catch(t){}}}},e.apiBaseUrl=l,e.fetchData=function(t,e,r){return c.apply(this,arguments)},e.now=f;var o=n(r(5946)),i=n(r(1120)),a=n(r(6453));function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach(function(e){(0,i.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function c(){return(c=(0,a.default)(o.default.mark(function t(e,r,n){var i,a,s,u,c,f,h,d,p=arguments;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=(i=p.length>3&&void 0!==p[3]?p[3]:{}).ctx,u=void 0===(s=i.req)?null==a?void 0:a.req:s,c="".concat(l(r),"/").concat(e),t.prev=2,f=null!=u&&u.headers.cookie?{headers:{cookie:u.headers.cookie}}:{},t.next=6,fetch(c,f);case 6:return h=t.sent,t.next=9,h.json();case 9:if(d=t.sent,h.ok){t.next=12;break}throw d;case 12:return t.abrupt("return",Object.keys(d).length>0?d:null);case 15:return t.prev=15,t.t0=t.catch(2),n.error("CLIENT_FETCH_ERROR",{error:t.t0,url:c}),t.abrupt("return",null);case 19:case"end":return t.stop()}},t,null,[[2,15]])}))).apply(this,arguments)}function l(t){return"undefined"==typeof window?"".concat(t.baseUrlServer).concat(t.basePathServer):t.basePath}function f(){return Math.floor(Date.now()/1e3)}},6334:function(t,e,r){"use strict";var n=r(8997);Object.defineProperty(e,"__esModule",{value:!0}),e.UnsupportedStrategy=e.UnknownError=e.OAuthCallbackError=e.MissingSecret=e.MissingAuthorize=e.MissingAdapterMethods=e.MissingAdapter=e.MissingAPIRoute=e.InvalidCallbackUrl=e.AccountNotLinkedError=void 0,e.adapterErrorHandler=function(t,e){if(t)return Object.keys(t).reduce(function(r,n){return r[n]=(0,i.default)(o.default.mark(function r(){var i,a,s,u,c,l=arguments;return o.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:for(r.prev=0,a=Array(i=l.length),s=0;s<i;s++)a[s]=l[s];return e.debug("adapter_".concat(n),{args:a}),u=t[n],r.next=6,u.apply(void 0,a);case 6:return r.abrupt("return",r.sent);case 9:throw r.prev=9,r.t0=r.catch(0),e.error("adapter_error_".concat(n),r.t0),(c=new p(r.t0)).name="".concat(S(n),"Error"),c;case 15:case"end":return r.stop()}},r,null,[[0,9]])})),r},{})},e.capitalize=S,e.eventsErrorHandler=function(t,e){return Object.keys(t).reduce(function(r,n){return r[n]=(0,i.default)(o.default.mark(function r(){var i,a=arguments;return o.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i=t[n],r.next=4,i.apply(void 0,a);case 4:return r.abrupt("return",r.sent);case 7:r.prev=7,r.t0=r.catch(0),e.error("".concat(E(n),"_EVENT_ERROR"),r.t0);case 10:case"end":return r.stop()}},r,null,[[0,7]])})),r},{})},e.upperSnake=E;var o=n(r(5946)),i=n(r(6453)),a=n(r(496)),s=n(r(1120)),u=n(r(5548)),c=n(r(6920)),l=n(r(6666)),f=n(r(8262)),h=n(r(8744));function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=(0,h.default)(t);if(e){var o=(0,h.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}var p=function(t){(0,l.default)(r,t);var e=d(r);function r(t){var n,o;return(0,u.default)(this,r),(o=e.call(this,null!==(n=null==t?void 0:t.message)&&void 0!==n?n:t)).name="UnknownError",o.code=t.code,t instanceof Error&&(o.stack=t.stack),o}return(0,c.default)(r,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,stack:this.stack}}}]),r}((0,n(r(2969)).default)(Error));e.UnknownError=p;var v=function(t){(0,l.default)(r,t);var e=d(r);function r(){var t;(0,u.default)(this,r);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),(0,s.default)((0,a.default)(t),"name","OAuthCallbackError"),t}return(0,c.default)(r)}(p);e.OAuthCallbackError=v;var y=function(t){(0,l.default)(r,t);var e=d(r);function r(){var t;(0,u.default)(this,r);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),(0,s.default)((0,a.default)(t),"name","AccountNotLinkedError"),t}return(0,c.default)(r)}(p);e.AccountNotLinkedError=y;var g=function(t){(0,l.default)(r,t);var e=d(r);function r(){var t;(0,u.default)(this,r);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),(0,s.default)((0,a.default)(t),"name","MissingAPIRouteError"),(0,s.default)((0,a.default)(t),"code","MISSING_NEXTAUTH_API_ROUTE_ERROR"),t}return(0,c.default)(r)}(p);e.MissingAPIRoute=g;var m=function(t){(0,l.default)(r,t);var e=d(r);function r(){var t;(0,u.default)(this,r);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),(0,s.default)((0,a.default)(t),"name","MissingSecretError"),(0,s.default)((0,a.default)(t),"code","NO_SECRET"),t}return(0,c.default)(r)}(p);e.MissingSecret=m;var b=function(t){(0,l.default)(r,t);var e=d(r);function r(){var t;(0,u.default)(this,r);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),(0,s.default)((0,a.default)(t),"name","MissingAuthorizeError"),(0,s.default)((0,a.default)(t),"code","CALLBACK_CREDENTIALS_HANDLER_ERROR"),t}return(0,c.default)(r)}(p);e.MissingAuthorize=b;var x=function(t){(0,l.default)(r,t);var e=d(r);function r(){var t;(0,u.default)(this,r);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),(0,s.default)((0,a.default)(t),"name","MissingAdapterError"),(0,s.default)((0,a.default)(t),"code","EMAIL_REQUIRES_ADAPTER_ERROR"),t}return(0,c.default)(r)}(p);e.MissingAdapter=x;var w=function(t){(0,l.default)(r,t);var e=d(r);function r(){var t;(0,u.default)(this,r);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),(0,s.default)((0,a.default)(t),"name","MissingAdapterMethodsError"),(0,s.default)((0,a.default)(t),"code","MISSING_ADAPTER_METHODS_ERROR"),t}return(0,c.default)(r)}(p);e.MissingAdapterMethods=w;var O=function(t){(0,l.default)(r,t);var e=d(r);function r(){var t;(0,u.default)(this,r);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),(0,s.default)((0,a.default)(t),"name","UnsupportedStrategyError"),(0,s.default)((0,a.default)(t),"code","CALLBACK_CREDENTIALS_JWT_ERROR"),t}return(0,c.default)(r)}(p);e.UnsupportedStrategy=O;var _=function(t){(0,l.default)(r,t);var e=d(r);function r(){var t;(0,u.default)(this,r);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),(0,s.default)((0,a.default)(t),"name","InvalidCallbackUrl"),(0,s.default)((0,a.default)(t),"code","INVALID_CALLBACK_URL_ERROR"),t}return(0,c.default)(r)}(p);function E(t){return t.replace(/([A-Z])/g,"_$1").toUpperCase()}function S(t){return"".concat(t[0].toUpperCase()).concat(t.slice(1))}e.InvalidCallbackUrl=_},4751:function(t,e,r){"use strict";var n,o,i,a,s,u=r(2040),c=r(8997),l=r(5630);Object.defineProperty(e,"__esModule",{value:!0});var f={SessionContext:!0,useSession:!0,getSession:!0,getCsrfToken:!0,getProviders:!0,signIn:!0,signOut:!0,SessionProvider:!0};e.SessionContext=void 0,e.SessionProvider=function(t){if(!C)throw Error("React Context is unavailable in Server Components");var e,r,n,o,i,a,s=t.children,u=t.basePath,c=t.refetchInterval,l=t.refetchWhenOffline;u&&(P.basePath=u);var f=void 0!==t.session;P._lastSync=f?(0,b.now)():0;var d=y.useState(function(){return f&&(P._session=t.session),t.session}),g=(0,v.default)(d,2),m=g[0],w=g[1],O=y.useState(!f),_=(0,v.default)(O,2),E=_[0],S=_[1];y.useEffect(function(){return P._getSession=(0,p.default)(h.default.mark(function t(){var e,r,n=arguments;return h.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=(n.length>0&&void 0!==n[0]?n[0]:{}).event,t.prev=1,!((r="storage"===e)||void 0===P._session)){t.next=10;break}return P._lastSync=(0,b.now)(),t.next=7,R({broadcast:!r});case 7:return P._session=t.sent,w(P._session),t.abrupt("return");case 10:if(!(!e||null===P._session||(0,b.now)()<P._lastSync)){t.next=12;break}return t.abrupt("return");case 12:return P._lastSync=(0,b.now)(),t.next=15,R();case 15:P._session=t.sent,w(P._session),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(1),M.error("CLIENT_SESSION_ERROR",t.t0);case 22:return t.prev=22,S(!1),t.finish(22);case 25:case"end":return t.stop()}},t,null,[[1,19,22,25]])})),P._getSession(),function(){P._lastSync=0,P._session=void 0,P._getSession=function(){}}},[]),y.useEffect(function(){var t=j.receive(function(){return P._getSession({event:"storage"})});return function(){return t()}},[]),y.useEffect(function(){var e=t.refetchOnWindowFocus,r=void 0===e||e,n=function(){r&&"visible"===document.visibilityState&&P._getSession({event:"visibilitychange"})};return document.addEventListener("visibilitychange",n,!1),function(){return document.removeEventListener("visibilitychange",n,!1)}},[t.refetchOnWindowFocus]);var A=(e=y.useState("undefined"!=typeof navigator&&navigator.onLine),n=(r=(0,v.default)(e,2))[0],o=r[1],i=function(){return o(!0)},a=function(){return o(!1)},y.useEffect(function(){return window.addEventListener("online",i),window.addEventListener("offline",a),function(){window.removeEventListener("online",i),window.removeEventListener("offline",a)}},[]),n),k=!1!==l||A;y.useEffect(function(){if(c&&k){var t=setInterval(function(){P._session&&P._getSession({event:"poll"})},1e3*c);return function(){return clearInterval(t)}}},[c,k]);var L=y.useMemo(function(){return{data:m,status:E?"loading":m?"authenticated":"unauthenticated"}},[m,E]);return(0,x.jsx)(C.Provider,{value:L,children:s})},e.getCsrfToken=k,e.getProviders=T,e.getSession=R,e.signIn=function(t,e,r){return U.apply(this,arguments)},e.signOut=function(t){return D.apply(this,arguments)},e.useSession=function(t){if(!C)throw Error("React Context is unavailable in Server Components");var e=y.useContext(C),r=null!=t?t:{},n=r.required,o=r.onUnauthenticated,i=n&&"unauthenticated"===e.status;return(y.useEffect(function(){if(i){var t="/api/auth/signin?".concat(new URLSearchParams({error:"SessionRequired",callbackUrl:window.location.href}));o?o():window.location.href=t}},[i,o]),i)?{data:e.data,status:"loading"}:e};var h=c(r(5946)),d=c(r(1120)),p=c(r(6453)),v=c(r(7948)),y=_(r(6006)),g=_(r(6751)),m=c(r(8050)),b=r(9247),x=r(9268),w=r(9225);function O(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(O=function(t){return t?r:e})(t)}function _(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==l(t)&&"function"!=typeof t)return{default:t};var r=O(e);if(r&&r.has(t))return r.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var a=o?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=t[i]}return n.default=t,r&&r.set(t,n),n}function E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function S(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?E(Object(r),!0).forEach(function(e){(0,d.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}Object.keys(w).forEach(function(t){!("default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(f,t))&&(t in e&&e[t]===w[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return w[t]}}))});var P={baseUrl:(0,m.default)(null!==(n=u.env.NEXTAUTH_URL)&&void 0!==n?n:u.env.VERCEL_URL).origin,basePath:(0,m.default)(u.env.NEXTAUTH_URL).path,baseUrlServer:(0,m.default)(null!==(o=null!==(i=u.env.NEXTAUTH_URL_INTERNAL)&&void 0!==i?i:u.env.NEXTAUTH_URL)&&void 0!==o?o:u.env.VERCEL_URL).origin,basePathServer:(0,m.default)(null!==(a=u.env.NEXTAUTH_URL_INTERNAL)&&void 0!==a?a:u.env.NEXTAUTH_URL).path,_lastSync:0,_session:void 0,_getSession:function(){}},j=(0,b.BroadcastChannel)(),M=(0,g.proxyLogger)(g.default,P.basePath),C=null===(s=y.createContext)||void 0===s?void 0:s.call(y,void 0);function R(t){return A.apply(this,arguments)}function A(){return(A=(0,p.default)(h.default.mark(function t(e){var r,n;return h.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,b.fetchData)("session",P,M,e);case 2:return n=t.sent,(null===(r=null==e?void 0:e.broadcast)||void 0===r||r)&&j.post({event:"session",data:{trigger:"getSession"}}),t.abrupt("return",n);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function k(t){return L.apply(this,arguments)}function L(){return(L=(0,p.default)(h.default.mark(function t(e){var r;return h.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,b.fetchData)("csrf",P,M,e);case 2:return r=t.sent,t.abrupt("return",null==r?void 0:r.csrfToken);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function T(){return q.apply(this,arguments)}function q(){return(q=(0,p.default)(h.default.mark(function t(){return h.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,b.fetchData)("providers",P,M);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}))).apply(this,arguments)}function U(){return(U=(0,p.default)(h.default.mark(function t(e,r,n){var o,i,a,s,u,c,l,f,d,p,v,y,g,m,x,w,O;return h.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=void 0===(i=(o=null!=r?r:{}).callbackUrl)?window.location.href:i,u=void 0===(s=o.redirect)||s,c=(0,b.apiBaseUrl)(P),t.next=4,T();case 4:if(l=t.sent){t.next=8;break}return window.location.href="".concat(c,"/error"),t.abrupt("return");case 8:if(!(!e||!(e in l))){t.next=11;break}return window.location.href="".concat(c,"/signin?").concat(new URLSearchParams({callbackUrl:a})),t.abrupt("return");case 11:return f="credentials"===l[e].type,d="email"===l[e].type,p=f||d,v="".concat(c,"/").concat(f?"callback":"signin","/").concat(e),y="".concat(v,"?").concat(new URLSearchParams(n)),t.t0=fetch,t.t1=y,t.t2={"Content-Type":"application/x-www-form-urlencoded"},t.t3=URLSearchParams,t.t4=S,t.t5=S({},r),t.t6={},t.next=25,k();case 25:return t.t7=t.sent,t.t8=a,t.t9={csrfToken:t.t7,callbackUrl:t.t8,json:!0},t.t10=(0,t.t4)(t.t5,t.t6,t.t9),t.t11=new t.t3(t.t10),t.t12={method:"post",headers:t.t2,body:t.t11},t.next=33,(0,t.t0)(t.t1,t.t12);case 33:return g=t.sent,t.next=36,g.json();case 36:if(m=t.sent,!(u||!p)){t.next=42;break}return w=null!==(x=m.url)&&void 0!==x?x:a,window.location.href=w,w.includes("#")&&window.location.reload(),t.abrupt("return");case 42:if(O=new URL(m.url).searchParams.get("error"),!g.ok){t.next=46;break}return t.next=46,P._getSession({event:"storage"});case 46:return t.abrupt("return",{error:O,status:g.status,ok:g.ok,url:O?null:m.url});case 47:case"end":return t.stop()}},t)}))).apply(this,arguments)}function D(){return(D=(0,p.default)(h.default.mark(function t(e){var r,n,o,i,a,s,u,c,l;return h.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=void 0===(n=(null!=e?e:{}).callbackUrl)?window.location.href:n,i=(0,b.apiBaseUrl)(P),t.t0={"Content-Type":"application/x-www-form-urlencoded"},t.t1=URLSearchParams,t.next=6,k();case 6:return t.t2=t.sent,t.t3=o,t.t4={csrfToken:t.t2,callbackUrl:t.t3,json:!0},t.t5=new t.t1(t.t4),a={method:"post",headers:t.t0,body:t.t5},t.next=13,fetch("".concat(i,"/signout"),a);case 13:return s=t.sent,t.next=16,s.json();case 16:if(u=t.sent,j.post({event:"session",data:{trigger:"signout"}}),!(null===(r=null==e?void 0:e.redirect)||void 0===r||r)){t.next=23;break}return l=null!==(c=u.url)&&void 0!==c?c:o,window.location.href=l,l.includes("#")&&window.location.reload(),t.abrupt("return");case 23:return t.next=25,P._getSession({event:"storage"});case 25:return t.abrupt("return",u);case 26:case"end":return t.stop()}},t)}))).apply(this,arguments)}e.SessionContext=C},9225:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},6751:function(t,e,r){"use strict";var n=r(8997);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.proxyLogger=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1?arguments[1]:void 0;try{if("undefined"==typeof window)return t;var r={},n=function(t){r[t]=function(r,n){u[t](r,n),"error"===t&&(n=s(n)),n.client=!0;var i="".concat(e,"/_log"),c=new URLSearchParams(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach(function(e){(0,o.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({level:t,code:r},n));return navigator.sendBeacon?navigator.sendBeacon(i,c):fetch(i,{method:"POST",body:c,keepalive:!0})}};for(var i in t)n(i);return r}catch(t){return u}},e.setLogger=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;e||(u.debug=function(){}),t.error&&(u.error=t.error),t.warn&&(u.warn=t.warn),t.debug&&(u.debug=t.debug)};var o=n(r(1120)),i=r(6334);function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function s(t){var e;return t instanceof Error&&!(t instanceof i.UnknownError)?{message:t.message,stack:t.stack,name:t.name}:(null!=t&&t.error&&(t.error=s(t.error),t.message=null!==(e=t.message)&&void 0!==e?e:t.error.message),t)}var u={error:function(t,e){e=s(e),console.error("[next-auth][error][".concat(t,"]"),"\nhttps://next-auth.js.org/errors#".concat(t.toLowerCase()),e.message,e)},warn:function(t){console.warn("[next-auth][warn][".concat(t,"]"),"\nhttps://next-auth.js.org/warnings#".concat(t.toLowerCase()))},debug:function(t,e){console.log("[next-auth][debug][".concat(t,"]"),e)}};e.default=u},8050:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e;let r=new URL("http://localhost:3000/api/auth");t&&!t.startsWith("http")&&(t=`https://${t}`);let n=new URL(null!==(e=t)&&void 0!==e?e:r),o=("/"===n.pathname?r.pathname:n.pathname).replace(/\/$/,""),i=`${n.origin}${o}`;return{origin:n.origin,host:n.host,path:o,base:i,toString:()=>i}}},2040:function(t,e,r){"use strict";var n,o;t.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(o=r.g.process)?void 0:o.env)?r.g.process:r(6003)},6003:function(t){!function(){var e={229:function(t){var e,r,n,o=t.exports={};function i(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u=[],c=!1,l=-1;function f(){c&&n&&(c=!1,n.length?u=n.concat(u):l=-1,u.length&&h())}function h(){if(!c){var t=s(f);c=!0;for(var e=u.length;e;){for(n=u,u=[];++l<e;)n&&n[l].run();l=-1,e=u.length}n=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}o.nextTick=function(t){var e=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new d(t,e)),1!==u.length||c||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(t){return[]},o.binding=function(t){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var i=r[t]={exports:{}},a=!0;try{e[t](i,i.exports,n),a=!1}finally{a&&delete r[t]}return i.exports}n.ab="//";var o=n(229);t.exports=o}()},3116:function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n},t.exports.__esModule=!0,t.exports.default=t.exports},3183:function(t){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},496:function(t){t.exports=function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},6453:function(t){function e(t,e,r,n,o,i,a){try{var s=t[i](a),u=s.value}catch(t){r(t);return}s.done?e(u):Promise.resolve(u).then(n,o)}t.exports=function(t){return function(){var r=this,n=arguments;return new Promise(function(o,i){var a=t.apply(r,n);function s(t){e(a,o,i,s,u,"next",t)}function u(t){e(a,o,i,s,u,"throw",t)}s(void 0)})}},t.exports.__esModule=!0,t.exports.default=t.exports},5548:function(t){t.exports=function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},4139:function(t,e,r){var n=r(8627),o=r(4990);function i(e,r,a){return o()?(t.exports=i=Reflect.construct.bind(),t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=i=function(t,e,r){var o=[null];o.push.apply(o,e);var i=new(Function.bind.apply(t,o));return r&&n(i,r.prototype),i},t.exports.__esModule=!0,t.exports.default=t.exports),i.apply(null,arguments)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},6920:function(t,e,r){var n=r(8463);function o(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,n(o.key),o)}}t.exports=function(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},1120:function(t,e,r){var n=r(8463);t.exports=function(t,e,r){return(e=n(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},t.exports.__esModule=!0,t.exports.default=t.exports},8744:function(t){function e(r){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},6666:function(t,e,r){var n=r(8627);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},8997:function(t){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports},9075:function(t){t.exports=function(t){return -1!==Function.toString.call(t).indexOf("[native code]")},t.exports.__esModule=!0,t.exports.default=t.exports},4990:function(t){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}},t.exports.__esModule=!0,t.exports.default=t.exports},4959:function(t){t.exports=function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}},t.exports.__esModule=!0,t.exports.default=t.exports},7221:function(t){t.exports=function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},8262:function(t,e,r){var n=r(5630).default,o=r(496);t.exports=function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return o(t)},t.exports.__esModule=!0,t.exports.default=t.exports},2996:function(t,e,r){var n=r(5630).default;function o(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t.exports=o=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var o,i,s=Object.create((e&&e.prototype instanceof v?e:v).prototype);return a(s,"_invoke",{value:(o=new P(n||[]),i="suspendedStart",function(e,n){if("executing"===i)throw Error("Generator is already running");if("completed"===i){if("throw"===e)throw n;return M()}for(o.method=e,o.arg=n;;){var a=o.delegate;if(a){var s=function t(e,r){var n=r.method,o=e.iterator[n];if(void 0===o)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=void 0,t(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+n+"' method")),p;var i=d(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,p;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,p):a:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,p)}(a,o);if(s){if(s===p)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if("suspendedStart"===i)throw i="completed",o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i="executing";var u=d(t,r,o);if("normal"===u.type){if(i=o.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:o.done}}"throw"===u.type&&(i="completed",o.method="throw",o.arg=u.arg)}})}),s}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var p={};function v(){}function y(){}function g(){}var m={};f(m,u,function(){return this});var b=Object.getPrototypeOf,x=b&&b(b(j([])));x&&x!==r&&i.call(x,u)&&(m=x);var w=g.prototype=v.prototype=Object.create(m);function O(t){["next","throw","return"].forEach(function(e){f(t,e,function(t){return this._invoke(e,t)})})}function _(t,e){var r;a(this,"_invoke",{value:function(o,a){function s(){return new e(function(r,s){!function r(o,a,s,u){var c=d(t[o],t,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==n(f)&&i.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,s,u)},function(t){r("throw",t,s,u)}):e.resolve(f).then(function(t){l.value=t,s(l)},function(t){return r("throw",t,s,u)})}u(c.arg)}(o,a,r,s)})}return r=r?r.then(s,s):s()}})}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[u];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:M}}function M(){return{value:void 0,done:!0}}return y.prototype=g,a(w,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:y,configurable:!0}),y.displayName=f(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,f(t,l,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},O(_.prototype),f(_.prototype,c,function(){return this}),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(h(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},O(w),f(w,l,"Generator"),f(w,u,function(){return this}),f(w,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=j,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},8627:function(t){function e(r,n){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r,n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},7948:function(t,e,r){var n=r(3183),o=r(4959),i=r(3351),a=r(7221);t.exports=function(t,e){return n(t)||o(t,e)||i(t,e)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},7927:function(t,e,r){var n=r(5630).default;t.exports=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!==n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},8463:function(t,e,r){var n=r(5630).default,o=r(7927);t.exports=function(t){var e=o(t,"string");return"symbol"===n(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports},5630:function(t){function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},3351:function(t,e,r){var n=r(3116);t.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(t,e)}},t.exports.__esModule=!0,t.exports.default=t.exports},2969:function(t,e,r){var n=r(8744),o=r(8627),i=r(9075),a=r(4139);function s(e){var r="function"==typeof Map?new Map:void 0;return t.exports=s=function(t){if(null===t||!i(t))return t;if("function"!=typeof t)throw TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,e)}function e(){return a(t,arguments,n(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o(e,t)},t.exports.__esModule=!0,t.exports.default=t.exports,s(e)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports},5946:function(t,e,r){var n=r(2996)();t.exports=n;try{regeneratorRuntime=n}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},2030:function(t,e,r){"use strict";r.d(e,{S:function(){return y}});var n=r(7179),o=r(1728),i=r(4586),a=r(760),s=r(8511);class u extends s.F{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||o._,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||function(t){let e="function"==typeof t.initialData?t.initialData():t.initialData,r=void 0!==e,n=r?"function"==typeof t.initialDataUpdatedAt?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?null!=n?n:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"loading",fetchStatus:"idle"}}(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.cache.remove(this)}setData(t,e){let r=(0,n.oE)(this.state.data,t,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:null==e?void 0:e.updatedAt,manual:null==e?void 0:e.manual}),r}setState(t,e){this.dispatch({type:"setState",state:t,setStateOptions:e})}cancel(t){var e;let r=this.promise;return null==(e=this.retryer)||e.cancel(t),r?r.then(n.ZT).catch(n.ZT):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(t=>!1!==t.options.enabled)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!(0,n.Kp)(this.state.dataUpdatedAt,t)}onFocus(){var t;let e=this.observers.find(t=>t.shouldFetchOnWindowFocus());e&&e.refetch({cancelRefetch:!1}),null==(t=this.retryer)||t.continue()}onOnline(){var t;let e=this.observers.find(t=>t.shouldFetchOnReconnect());e&&e.refetch({cancelRefetch:!1}),null==(t=this.retryer)||t.continue()}addObserver(t){-1===this.observers.indexOf(t)&&(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){-1!==this.observers.indexOf(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,e){var r,o,i,s;if("idle"!==this.state.fetchStatus){if(this.state.dataUpdatedAt&&null!=e&&e.cancelRefetch)this.cancel({silent:!0});else if(this.promise)return null==(i=this.retryer)||i.continueRetry(),this.promise}if(t&&this.setOptions(t),!this.options.queryFn){let t=this.observers.find(t=>t.options.queryFn);t&&this.setOptions(t.options)}Array.isArray(this.options.queryKey);let u=(0,n.G9)(),c={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>{if(u)return this.abortSignalConsumed=!0,u.signal}})};l(c);let f=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(c)):Promise.reject("Missing queryFn"),h={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:f};l(h),null==(r=this.options.behavior)||r.onFetch(h),this.revertState=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(o=h.fetchOptions)?void 0:o.meta))&&this.dispatch({type:"fetch",meta:null==(s=h.fetchOptions)?void 0:s.meta});let d=t=>{if((0,a.DV)(t)&&t.silent||this.dispatch({type:"error",error:t}),!(0,a.DV)(t)){var e,r,n,o;null==(e=(r=this.cache.config).onError)||e.call(r,t,this),null==(n=(o=this.cache.config).onSettled)||n.call(o,this.state.data,t,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=(0,a.Mz)({fn:h.fetchFn,abort:null==u?void 0:u.abort.bind(u),onSuccess:t=>{var e,r,n,o;if(void 0===t){d(Error("undefined"));return}this.setData(t),null==(e=(r=this.cache.config).onSuccess)||e.call(r,t,this),null==(n=(o=this.cache.config).onSettled)||n.call(o,t,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:d,onFail:(t,e)=>{this.dispatch({type:"failed",failureCount:t,error:e})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){this.state=(e=>{var r,n;switch(t.type){case"failed":return{...e,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...e,fetchStatus:"paused"};case"continue":return{...e,fetchStatus:"fetching"};case"fetch":return{...e,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null!=(r=t.meta)?r:null,fetchStatus:(0,a.Kw)(this.options.networkMode)?"fetching":"paused",...!e.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...e,data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:null!=(n=t.dataUpdatedAt)?n:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let o=t.error;if((0,a.DV)(o)&&o.revert&&this.revertState)return{...this.revertState};return{...e,error:o,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...e,isInvalidated:!0};case"setState":return{...e,...t.state}}})(this.state),i.V.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate(t)}),this.cache.notify({query:this,type:"updated",action:t})})}}var c=r(2772);class l extends c.l{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,e,r){var o;let i=e.queryKey,a=null!=(o=e.queryHash)?o:(0,n.Rm)(i,e),s=this.get(a);return s||(s=new u({cache:this,logger:t.getLogger(),queryKey:i,queryHash:a,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){let e=this.queriesMap[t.queryHash];e&&(t.destroy(),this.queries=this.queries.filter(e=>e!==t),e===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){i.V.batch(()=>{this.queries.forEach(t=>{this.remove(t)})})}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,e){let[r]=(0,n.I6)(t,e);return void 0===r.exact&&(r.exact=!0),this.queries.find(t=>(0,n._x)(r,t))}findAll(t,e){let[r]=(0,n.I6)(t,e);return Object.keys(r).length>0?this.queries.filter(t=>(0,n._x)(r,t)):this.queries}notify(t){i.V.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){i.V.batch(()=>{this.queries.forEach(t=>{t.onFocus()})})}onOnline(){i.V.batch(()=>{this.queries.forEach(t=>{t.onOnline()})})}}var f=r(8993);class h extends c.l{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,e,r){let n=new f.m({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(e),state:r,defaultOptions:e.mutationKey?t.getMutationDefaults(e.mutationKey):void 0});return this.add(n),n}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter(e=>e!==t),this.notify({type:"removed",mutation:t})}clear(){i.V.batch(()=>{this.mutations.forEach(t=>{this.remove(t)})})}getAll(){return this.mutations}find(t){return void 0===t.exact&&(t.exact=!0),this.mutations.find(e=>(0,n.X7)(t,e))}findAll(t){return this.mutations.filter(e=>(0,n.X7)(t,e))}notify(t){i.V.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){var t;return this.resuming=(null!=(t=this.resuming)?t:Promise.resolve()).then(()=>{let t=this.mutations.filter(t=>t.state.isPaused);return i.V.batch(()=>t.reduce((t,e)=>t.then(()=>e.continue().catch(n.ZT)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}var d=r(189),p=r(7205);function v(t,e){return null==t.getNextPageParam?void 0:t.getNextPageParam(e[e.length-1],e)}class y{constructor(t={}){this.queryCache=t.queryCache||new l,this.mutationCache=t.mutationCache||new h,this.logger=t.logger||o._,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,1===this.mountCount&&(this.unsubscribeFocus=d.j.subscribe(()=>{d.j.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=p.N.subscribe(()=>{p.N.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var t,e;this.mountCount--,0===this.mountCount&&(null==(t=this.unsubscribeFocus)||t.call(this),this.unsubscribeFocus=void 0,null==(e=this.unsubscribeOnline)||e.call(this),this.unsubscribeOnline=void 0)}isFetching(t,e){let[r]=(0,n.I6)(t,e);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,e){var r;return null==(r=this.queryCache.find(t,e))?void 0:r.state.data}ensureQueryData(t,e,r){let o=(0,n._v)(t,e,r),i=this.getQueryData(o.queryKey);return i?Promise.resolve(i):this.fetchQuery(o)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:t,state:e})=>{let r=e.data;return[t,r]})}setQueryData(t,e,r){let o=this.queryCache.find(t),i=null==o?void 0:o.state.data,a=(0,n.SE)(e,i);if(void 0===a)return;let s=(0,n._v)(t),u=this.defaultQueryOptions(s);return this.queryCache.build(this,u).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return i.V.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:t})=>[t,this.setQueryData(t,e,r)]))}getQueryState(t,e){var r;return null==(r=this.queryCache.find(t,e))?void 0:r.state}removeQueries(t,e){let[r]=(0,n.I6)(t,e),o=this.queryCache;i.V.batch(()=>{o.findAll(r).forEach(t=>{o.remove(t)})})}resetQueries(t,e,r){let[o,a]=(0,n.I6)(t,e,r),s=this.queryCache,u={type:"active",...o};return i.V.batch(()=>(s.findAll(o).forEach(t=>{t.reset()}),this.refetchQueries(u,a)))}cancelQueries(t,e,r){let[o,a={}]=(0,n.I6)(t,e,r);void 0===a.revert&&(a.revert=!0);let s=i.V.batch(()=>this.queryCache.findAll(o).map(t=>t.cancel(a)));return Promise.all(s).then(n.ZT).catch(n.ZT)}invalidateQueries(t,e,r){let[o,a]=(0,n.I6)(t,e,r);return i.V.batch(()=>{var t,e;if(this.queryCache.findAll(o).forEach(t=>{t.invalidate()}),"none"===o.refetchType)return Promise.resolve();let r={...o,type:null!=(t=null!=(e=o.refetchType)?e:o.type)?t:"active"};return this.refetchQueries(r,a)})}refetchQueries(t,e,r){let[o,a]=(0,n.I6)(t,e,r),s=i.V.batch(()=>this.queryCache.findAll(o).filter(t=>!t.isDisabled()).map(t=>{var e;return t.fetch(void 0,{...a,cancelRefetch:null==(e=null==a?void 0:a.cancelRefetch)||e,meta:{refetchPage:o.refetchPage}})})),u=Promise.all(s).then(n.ZT);return null!=a&&a.throwOnError||(u=u.catch(n.ZT)),u}fetchQuery(t,e,r){let o=(0,n._v)(t,e,r),i=this.defaultQueryOptions(o);void 0===i.retry&&(i.retry=!1);let a=this.queryCache.build(this,i);return a.isStaleByTime(i.staleTime)?a.fetch(i):Promise.resolve(a.state.data)}prefetchQuery(t,e,r){return this.fetchQuery(t,e,r).then(n.ZT).catch(n.ZT)}fetchInfiniteQuery(t,e,r){let o=(0,n._v)(t,e,r);return o.behavior={onFetch:t=>{t.fetchFn=()=>{var e,r,n,o,i,a,s;let u;let c=null==(e=t.fetchOptions)?void 0:null==(r=e.meta)?void 0:r.refetchPage,l=null==(n=t.fetchOptions)?void 0:null==(o=n.meta)?void 0:o.fetchMore,f=null==l?void 0:l.pageParam,h=(null==l?void 0:l.direction)==="forward",d=(null==l?void 0:l.direction)==="backward",p=(null==(i=t.state.data)?void 0:i.pages)||[],y=(null==(a=t.state.data)?void 0:a.pageParams)||[],g=y,m=!1,b=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>{var e,r;return null!=(e=t.signal)&&e.aborted?m=!0:null==(r=t.signal)||r.addEventListener("abort",()=>{m=!0}),t.signal}})},x=t.options.queryFn||(()=>Promise.reject("Missing queryFn")),w=(t,e,r,n)=>(g=n?[e,...g]:[...g,e],n?[r,...t]:[...t,r]),O=(e,r,n,o)=>{if(m)return Promise.reject("Cancelled");if(void 0===n&&!r&&e.length)return Promise.resolve(e);let i={queryKey:t.queryKey,pageParam:n,meta:t.options.meta};b(i);let a=x(i),s=Promise.resolve(a).then(t=>w(e,n,t,o));return s};if(p.length){if(h){let e=void 0!==f,r=e?f:v(t.options,p);u=O(p,e,r)}else if(d){let e=void 0!==f,r=e?f:null==(s=t.options).getPreviousPageParam?void 0:s.getPreviousPageParam(p[0],p);u=O(p,e,r,!0)}else{g=[];let e=void 0===t.options.getNextPageParam,r=!c||!p[0]||c(p[0],0,p);u=r?O([],e,y[0]):Promise.resolve(w([],y[0],p[0]));for(let r=1;r<p.length;r++)u=u.then(n=>{let o=!c||!p[r]||c(p[r],r,p);if(o){let o=e?y[r]:v(t.options,n);return O(n,e,o)}return Promise.resolve(w(n,y[r],p[r]))})}}else u=O([]);let _=u.then(t=>({pages:t,pageParams:g}));return _}}},this.fetchQuery(o)}prefetchInfiniteQuery(t,e,r){return this.fetchInfiniteQuery(t,e,r).then(n.ZT).catch(n.ZT)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,e){let r=this.queryDefaults.find(e=>(0,n.yF)(t)===(0,n.yF)(e.queryKey));r?r.defaultOptions=e:this.queryDefaults.push({queryKey:t,defaultOptions:e})}getQueryDefaults(t){if(!t)return;let e=this.queryDefaults.find(e=>(0,n.to)(t,e.queryKey));return null==e?void 0:e.defaultOptions}setMutationDefaults(t,e){let r=this.mutationDefaults.find(e=>(0,n.yF)(t)===(0,n.yF)(e.mutationKey));r?r.defaultOptions=e:this.mutationDefaults.push({mutationKey:t,defaultOptions:e})}getMutationDefaults(t){if(!t)return;let e=this.mutationDefaults.find(e=>(0,n.to)(t,e.mutationKey));return null==e?void 0:e.defaultOptions}defaultQueryOptions(t){if(null!=t&&t._defaulted)return t;let e={...this.defaultOptions.queries,...this.getQueryDefaults(null==t?void 0:t.queryKey),...t,_defaulted:!0};return!e.queryHash&&e.queryKey&&(e.queryHash=(0,n.Rm)(e.queryKey,e)),void 0===e.refetchOnReconnect&&(e.refetchOnReconnect="always"!==e.networkMode),void 0===e.useErrorBoundary&&(e.useErrorBoundary=!!e.suspense),e}defaultMutationOptions(t){return null!=t&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(null==t?void 0:t.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}}}]);