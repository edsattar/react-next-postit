exports.id = 257;
exports.ids = [257];
exports.modules = {

/***/ 8967:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 7958));
Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 3716, 23));
Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 6963));
Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 7329))

/***/ }),

/***/ 2536:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 5958, 23));
Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 8950, 23));
Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 2513, 23));
Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 1551, 23))

/***/ }),

/***/ 2282:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/* __next_internal_client_entry_do_not_use__ default */ const { createProxy  } = __webpack_require__(1399);
module.exports = createProxy("E:\\Projects\\react\\react-postit\\app\\auth\\LoggedIn.tsx");


/***/ }),

/***/ 9308:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/* __next_internal_client_entry_do_not_use__ default */ const { createProxy  } = __webpack_require__(1399);
module.exports = createProxy("E:\\Projects\\react\\react-postit\\app\\auth\\Login.tsx");


/***/ }),

/***/ 5343:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/* __next_internal_client_entry_do_not_use__ QueryWrapper */ const { createProxy  } = __webpack_require__(1399);
module.exports = createProxy("E:\\Projects\\react\\react-postit\\app\\components\\QueryWrapper.tsx");


/***/ }),

/***/ 4074:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ RootLayout),
  "metadata": () => (/* binding */ metadata)
});

// EXTERNAL MODULE: ./node_modules/next/dist/compiled/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(4458);
// EXTERNAL MODULE: ./app/globals.css
var globals = __webpack_require__(2817);
// EXTERNAL MODULE: ./node_modules/next/link.js
var next_link = __webpack_require__(9709);
var link_default = /*#__PURE__*/__webpack_require__.n(next_link);
// EXTERNAL MODULE: ./app/auth/Login.tsx
var Login = __webpack_require__(9308);
var Login_default = /*#__PURE__*/__webpack_require__.n(Login);
// EXTERNAL MODULE: ./app/auth/LoggedIn.tsx
var LoggedIn = __webpack_require__(2282);
var LoggedIn_default = /*#__PURE__*/__webpack_require__.n(LoggedIn);
// EXTERNAL MODULE: ./pages/api/auth/[...nextauth].js + 1 modules
var _nextauth_ = __webpack_require__(7793);
// EXTERNAL MODULE: ./node_modules/next-auth/next/index.js
var next = __webpack_require__(3245);
;// CONCATENATED MODULE: ./app/auth/Nav.tsx






async function Nav() {
    const session = await (0,next.getServerSession)(_nextauth_/* authOptions */.L);
    // Get the user's session based on the request
    return /*#__PURE__*/ (0,jsx_runtime.jsxs)("nav", {
        className: "flex justify-between items-center py-8",
        children: [
            /*#__PURE__*/ jsx_runtime.jsx((link_default()), {
                href: "/",
                children: /*#__PURE__*/ jsx_runtime.jsx("h1", {
                    className: "font-bold text-lg",
                    children: "PostIt"
                })
            }),
            /*#__PURE__*/ (0,jsx_runtime.jsxs)("ul", {
                className: "flex items-center gap-6",
                children: [
                    !session?.user && /*#__PURE__*/ jsx_runtime.jsx((Login_default()), {}),
                    session?.user && /*#__PURE__*/ jsx_runtime.jsx((LoggedIn_default()), {
                        ...session.user
                    })
                ]
            })
        ]
    });
}
/* harmony default export */ const auth_Nav = (Nav);

// EXTERNAL MODULE: ./app/components/QueryWrapper.tsx
var QueryWrapper = __webpack_require__(5343);
;// CONCATENATED MODULE: ./app/layout.tsx




const metadata = {
    title: "React Next Postit",
    description: "Generated by create next app"
};
function RootLayout({ children  }) {
    return /*#__PURE__*/ jsx_runtime.jsx("html", {
        lang: "en",
        children: /*#__PURE__*/ jsx_runtime.jsx("body", {
            className: "bg-gray-200 mx-4 md:mx-48 xl:mx-96 font-roboto",
            children: /*#__PURE__*/ (0,jsx_runtime.jsxs)(QueryWrapper.QueryWrapper, {
                children: [
                    /*#__PURE__*/ jsx_runtime.jsx(auth_Nav, {}),
                    children
                ]
            })
        })
    });
}


/***/ }),

/***/ 7793:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "L": () => (/* binding */ authOptions)
});

// UNUSED EXPORTS: default

// EXTERNAL MODULE: ./node_modules/next-auth/index.js
var next_auth = __webpack_require__(179);
var next_auth_default = /*#__PURE__*/__webpack_require__.n(next_auth);
// EXTERNAL MODULE: ./node_modules/next-auth/providers/google.js
var google = __webpack_require__(2938);
// EXTERNAL MODULE: ./node_modules/@next-auth/prisma-adapter/dist/index.js
var dist = __webpack_require__(4003);
// EXTERNAL MODULE: external "@prisma/client"
var client_ = __webpack_require__(3524);
;// CONCATENATED MODULE: ./prisma/client.ts

const prisma = global.prisma || new client_.PrismaClient();
if (true) global.prisma = prisma;
/* harmony default export */ const client = (prisma);

;// CONCATENATED MODULE: ./pages/api/auth/[...nextauth].js




const authOptions = {
    // Configure one or more authentication providers
    adapter: (0,dist/* PrismaAdapter */.N)(client),
    providers: [
        (0,google/* default */.Z)({
            clientId: process.env.GOOGLE_ID,
            clientSecret: process.env.GOOGLE_SECRET
        })
    ]
};
/* harmony default export */ const _nextauth_ = (next_auth_default()(authOptions));


/***/ }),

/***/ 808:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"url":"/_next/static/media/metadata/favicon.603d046c.ico","type":"image/x-icon","sizes":"any"});

/***/ }),

/***/ 7329:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ LoggedIn)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6786);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8421);
/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_image__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3370);
/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_auth_react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1621);
/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_3__);




// create a function that returns a React component that renders the user's name and profile image if they are logged in and a button to sign out. The function takes the session.user object
function LoggedIn(user) {
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("li", {
        className: "flex gap-8 items-center",
        children: [
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("button", {
                onClick: ()=>(0,next_auth_react__WEBPACK_IMPORTED_MODULE_2__.signOut)(),
                className: "bg-gray-700 text-white text-sm px-6 py-2 rounded-xl",
                children: "Sign Out"
            }),
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("h1", {
                children: user?.name
            }),
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx((next_link__WEBPACK_IMPORTED_MODULE_3___default()), {
                href: "/dashboard",
                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx((next_image__WEBPACK_IMPORTED_MODULE_1___default()), {
                    className: "w-14 rounded-full",
                    width: 64,
                    height: 64,
                    src: user?.image || "https://i.pravatar.cc",
                    alt: "",
                    priority: true
                })
            })
        ]
    });
}


/***/ }),

/***/ 6963:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Login)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6786);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3370);
/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_react__WEBPACK_IMPORTED_MODULE_1__);


function Login() {
    return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("li", {
        className: "list-none",
        children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("button", {
            onClick: ()=>(0,next_auth_react__WEBPACK_IMPORTED_MODULE_1__.signIn)(),
            className: "text-sm bg-gray-700 text-white py-2 px-6 rounded-xl disabled:opacity-25",
            children: "Login"
        })
    });
}


/***/ }),

/***/ 7958:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "QueryWrapper": () => (/* binding */ QueryWrapper)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6786);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8038);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8591);
/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(8417);
/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3518);




const queryClient = new _tanstack_react_query__WEBPACK_IMPORTED_MODULE_3__/* .QueryClient */ .S();
const QueryWrapper = ({ children  })=>/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_tanstack_react_query__WEBPACK_IMPORTED_MODULE_4__/* .QueryClientProvider */ .aH, {
        client: queryClient,
        children: [
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(react_hot_toast__WEBPACK_IMPORTED_MODULE_2__/* .Toaster */ .x7, {}),
            children
        ]
    });


/***/ }),

/***/ 4986:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "Z": () => (/* binding */ SinglePost)
});

// EXTERNAL MODULE: external "next/dist/compiled/react/jsx-runtime"
var jsx_runtime_ = __webpack_require__(6786);
// EXTERNAL MODULE: ./node_modules/next/image.js
var next_image = __webpack_require__(8421);
var image_default = /*#__PURE__*/__webpack_require__.n(next_image);
// EXTERNAL MODULE: ./node_modules/next/link.js
var next_link = __webpack_require__(1621);
var link_default = /*#__PURE__*/__webpack_require__.n(next_link);
// EXTERNAL MODULE: ./node_modules/react-hot-toast/dist/index.mjs + 1 modules
var dist = __webpack_require__(3518);
;// CONCATENATED MODULE: ./app/dashboard/DeleteConfirm.tsx

function DeleteConfirm({ deletePost , setToggle  }) {
    return /*#__PURE__*/ jsx_runtime_.jsx("div", {
        onClick: (e)=>{
            e.stopPropagation();
            setToggle(false);
        },
        className: "fixed bg-black/30 w-full h-full z-20 left-0 top-0 ",
        children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
            className: "absolute bg-white top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 p-12 rounded-lg flex flex-col gap-6",
            children: [
                /*#__PURE__*/ jsx_runtime_.jsx("h2", {
                    className: "text-xl",
                    children: "Are you sure you want to delete this post? \uD83D\uDE25"
                }),
                /*#__PURE__*/ jsx_runtime_.jsx("h3", {
                    className: "text-red-600 text-sm",
                    children: "Pressing the delete button will permenantly delete your post"
                }),
                /*#__PURE__*/ jsx_runtime_.jsx("button", {
                    onClick: deletePost,
                    className: "bg-red-600 text-sm text-white py-2 px-4 rounded-md",
                    children: "Delete Post"
                })
            ]
        })
    });
}

// EXTERNAL MODULE: external "next/dist/compiled/react"
var react_ = __webpack_require__(8038);
// EXTERNAL MODULE: ./node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs
var QueryClientProvider = __webpack_require__(8417);
// EXTERNAL MODULE: ./node_modules/@tanstack/react-query/build/lib/useMutation.mjs + 1 modules
var useMutation = __webpack_require__(3369);
// EXTERNAL MODULE: ./node_modules/axios/lib/axios.js + 45 modules
var axios = __webpack_require__(5085);
;// CONCATENATED MODULE: ./app/components/SinglePost.tsx








function SinglePost({ post , allowEdit  }) {
    const [toggle, setToggle] = (0,react_.useState)(false);
    const queryClient = (0,QueryClientProvider/* useQueryClient */.NL)();
    const { mutate  } = (0,useMutation/* useMutation */.D)(async (id)=>await axios/* default.delete */.Z["delete"]("/api/posts/deletePost", {
            data: id
        }), {
        onSuccess: ()=>{
            dist/* toast.remove */.Am.remove();
            dist/* toast.success */.Am.success("Post Deleted");
            console.log("deleted");
            queryClient.invalidateQueries([
                "userPosts"
            ]);
            queryClient.invalidateQueries([
                "allPosts"
            ]);
            queryClient.invalidateQueries([
                "postDetail"
            ]);
        },
        onError: (error)=>{
            console.log("ERROR!!!");
        }
    });
    const deletePost = ()=>{
        dist/* toast.loading */.Am.loading("Deleting Post...");
        mutate(post.id);
    };
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)(jsx_runtime_.Fragment, {
        children: [
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: "bg-white my-8 p-8 rounded-lg ",
                children: [
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        className: "flex items-center gap-2",
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx((image_default()), {
                                className: "rounded-full",
                                width: 32,
                                height: 32,
                                src: post.user.image,
                                alt: "avatar"
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("h3", {
                                className: "font-bold text-gray-700",
                                children: post.user.name
                            })
                        ]
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        className: "my-8 ",
                        children: /*#__PURE__*/ jsx_runtime_.jsx("p", {
                            className: "break-all",
                            children: post.title
                        })
                    }),
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        className: "flex gap-4 cursor-pointer items-center",
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx((link_default()), {
                                href: {
                                    pathname: `/post/${post.id}`
                                },
                                children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("p", {
                                    className: " text-sm font-bold text-gray-700",
                                    children: [
                                        post.comments?.length,
                                        " Comments"
                                    ]
                                })
                            }),
                            allowEdit && /*#__PURE__*/ jsx_runtime_.jsx("button", {
                                onClick: (e)=>setToggle(true),
                                className: " text-sm font-bold text-red-500",
                                children: "Delete"
                            })
                        ]
                    })
                ]
            }),
            toggle && /*#__PURE__*/ jsx_runtime_.jsx(DeleteConfirm, {
                deletePost: deletePost,
                setToggle: setToggle
            })
        ]
    });
}


/***/ }),

/***/ 2817:
/***/ (() => {



/***/ })

};
;